<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <!-- Google Analytics (GA4) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GD2PHJX65F"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-GD2PHJX65F');
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VizMix マニュアル</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <header>
    <h1>VizMix マニュアル</h1>
    <p class="tagline">Browser-based VJ Software</p>
    <p class="version">Version 1.0.0</p>
    <nav>
      <a href="#about">VizMixとは</a>
      <a href="#install">インストール</a>
      <a href="#basic">基本操作</a>
      <a href="#mediabrowser">メディアブラウザ</a>
      <a href="#webcam">Webcam</a>
      <a href="#playback">再生コントロール</a>
      <a href="#keyboard">キーボード</a>
      <a href="#bpm">BPM機能</a>
      <a href="#effects">エフェクト</a>
      <a href="#midi">MIDI</a>
      <a href="#trouble">トラブルシューティング</a>
      <a href="#license">ライセンス</a>
    </nav>
  </header>

  <main>
    <section id="about">
      <h2>VizMixとは</h2>
      <p>VizMixはブラウザで動作するVJ（ビジュアルジョッキー）ソフトウェアです。</p>
      <ul>
        <li>インストール不要 - ブラウザだけで動作</li>
        <li>2チャンネルミキシング - A/Bチャンネルをクロスフェード</li>
        <li>チャンネルディマー - 各チャンネルの明るさを独立制御</li>
        <li>16バンク - 各チャンネル8つの素材を切り替え</li>
        <li>BPM同期 - タップテンポ、自動切替、BPMフラッシュ</li>
        <li>映像エフェクト - Color / Adjust / Blur / Glitch 系エフェクト</li>
        <li>MIDI対応 - MIDIラーンで自由にアサイン</li>
        <li>GLSLシェーダー / ISFシェーダー対応</li>
      </ul>
    </section>

    <section id="install">
      <h2>インストール</h2>

      <h3>Web版（推奨）</h3>
      <p>ブラウザでアクセスするだけで使用できます。インストール不要です。</p>
      <ol>
        <li>Chrome ブラウザを開く</li>
        <li>VizMixのURL（準備中）にアクセス</li>
        <li>すぐに使用開始</li>
      </ol>
      <p class="note">Web版はサーバーにアクセスするだけなので、追加ソフトのインストールは不要です。</p>

      <h3>ダウンロード版（オフライン/上級者向け）</h3>
      <p>ローカル環境で使用する場合は、簡易Webサーバーが必要です。</p>

      <h4>方法1: Python（簡単）</h4>
      <ol>
        <li>ZIPファイルをダウンロードして解凍</li>
        <li>コマンドプロンプト/ターミナルを開く</li>
        <li>解凍したフォルダに移動: <code>cd VizMix-v1.0.0</code></li>
        <li>サーバーを起動: <code>python -m http.server 8000</code></li>
        <li>ブラウザで <code>http://localhost:8000</code> にアクセス</li>
      </ol>

      <h4>方法2: Node.js</h4>
      <ol>
        <li>ZIPファイルをダウンロードして解凍</li>
        <li>コマンドプロンプト/ターミナルを開く</li>
        <li>解凍したフォルダに移動: <code>cd VizMix-v1.0.0</code></li>
        <li>サーバーを起動: <code>npx serve</code></li>
        <li>表示されたURLにアクセス</li>
      </ol>

      <h4>方法3: VS Code Live Server</h4>
      <ol>
        <li>VS Codeで解凍したフォルダを開く</li>
        <li>拡張機能「Live Server」をインストール</li>
        <li>index.html を右クリック → 「Open with Live Server」</li>
      </ol>

      <p class="note">※ ダウンロード版はindex.htmlをダブルクリックで直接開くことはできません。ブラウザのセキュリティ制限により、簡易サーバー経由でのアクセスが必要です。</p>
    </section>

    <section id="basic">
      <h2>基本操作</h2>

      <h3>画面構成</h3>
      <ul>
        <li><strong>Channel A（左）</strong> - ディマー + 映像プレビュー + 再生コントロール + 8バンク</li>
        <li><strong>Master（中央）</strong> - マスタープレビュー + クロスフェーダー + BPM設定</li>
        <li><strong>Channel B（右）</strong> - 映像プレビュー + ディマー + 再生コントロール + 8バンク</li>
        <li><strong>エフェクトパネル（右サイド）</strong> - VIDEO EFFECTS（開閉可能）</li>
      </ul>

      <h3>チャンネルディマー</h3>
      <p>各チャンネルプレビューの横にある縦スライダーがディマーです。</p>
      <ul>
        <li>0%（下）: 真っ暗 / 100%（上）: フル表示</li>
        <li>クロスフェーダーとは独立して動作</li>
        <li>プレビューの明るさにリアルタイム反映</li>
        <li>MIDIコントローラーからも操作可能</li>
      </ul>

      <h3>映像の読み込み</h3>
      <ol>
        <li>動画ファイルをバンクボタンにドラッグ&ドロップ</li>
        <li>またはメディアブラウザのサムネイルをダブルクリックしてアサイン</li>
        <li>サムネールが表示され、映像が読み込まれます</li>
        <li>バンクボタンをクリックして映像を切り替え</li>
      </ol>
      <p class="note">対応形式: MP4 (H.264)、WebM (VP8/VP9)。MP4を推奨します。</p>

      <h3>シェーダーの読み込み</h3>
      <ol>
        <li>シェーダーファイル（.glsl / .frag / .fs）をバンクボタンにドラッグ&ドロップ</li>
        <li>ボタンが紫色になり、シェーダーが読み込まれます</li>
        <li>ISFフォーマット（.fs）にも対応 - INPUTS の uniform が自動生成されます</li>
      </ol>

      <h3>クロスフェード</h3>
      <p>中央のスライダーでChannel AとChannel Bをミックスします。</p>
      <ul>
        <li>左端: Channel A 100%</li>
        <li>中央: 50% / 50%</li>
        <li>右端: Channel B 100%</li>
      </ul>

      <h3>Output Window</h3>
      <p>「Open Output」ボタンで出力用ウィンドウを開きます。プロジェクターやLEDに接続するモニターに移動してフルスクリーンにしてください。</p>
      <p>出力解像度はヘッダーのドロップダウンで 540p / 720p / 1080p から選択できます。</p>
    </section>

    <section id="mediabrowser">
      <h2>メディアブラウザ</h2>
      <p>Bank A / Bank B の横にメディアブラウザパネルがあります。フォルダ内の映像を一覧表示し、簡単にバンクへ割り当てできます。</p>

      <h3>フォルダの選択</h3>
      <ol>
        <li>「Select Folder」ボタンをクリック</li>
        <li>映像ファイルが入っているフォルダを選択</li>
        <li>フォルダ内の対応ファイルがサムネイル表示されます</li>
      </ol>

      <h3>表示切替</h3>
      <ul>
        <li><strong>グリッド表示</strong>: サムネイルを格子状に表示</li>
        <li><strong>リスト表示</strong>: ファイル名とサムネイルを縦に表示</li>
      </ul>
      <p>パネル右上のアイコンで切り替えできます。</p>

      <h3>バンクへの割り当て</h3>
      <ul>
        <li><strong>ドラッグ&ドロップ</strong>: サムネイルをドラッグしてバンクボタンにドロップ</li>
        <li><strong>ダブルクリック</strong>: サムネイルをダブルクリックすると、現在アクティブなバンクにアサイン</li>
      </ul>

      <h3>対応フォーマット</h3>
      <ul>
        <li>動画: MP4 (H.264) 推奨、WebM</li>
        <li>シェーダー: .glsl / .frag / .fs（ISF対応）</li>
      </ul>
    </section>

    <section id="webcam">
      <h2>Webcam</h2>
      <p>Channel A / Channel B のプレビュー下にある Media / Cam 切替ボタンでカメラ入力に切り替えられます。</p>

      <h3>基本操作</h3>
      <ul>
        <li><strong>Media / Cam ボタン</strong>: クリックで Media モードと Cam モードを切り替え</li>
        <li><strong>Cam モード</strong>: カメラ映像をリアルタイム表示</li>
        <li><strong>Media モード</strong>: 通常のバンク映像を表示</li>
      </ul>

      <h3>複数カメラ対応</h3>
      <ul>
        <li>ドロップダウンメニューから使用するカメラを選択</li>
        <li>Channel A と Channel B で異なるカメラを選択可能</li>
        <li>OBS仮想カメラなども使用可能</li>
      </ul>

      <h3>注意事項</h3>
      <ul>
        <li>HTTPS または localhost 環境が必要です</li>
        <li>初回使用時にブラウザがカメラへのアクセス許可を求めます</li>
      </ul>
    </section>

    <section id="playback">
      <h2>再生コントロール</h2>
      <p>各チャンネルのプレビュー下に再生コントロールがあります。</p>

      <h3>操作</h3>
      <ul>
        <li><strong>再生/一時停止ボタン</strong>: クリックで再生と一時停止を切り替え</li>
        <li><strong>シークバー</strong>: ドラッグで映像の任意の位置にジャンプ（自動的に一時停止）</li>
        <li><strong>再生時間</strong>: 現在の再生位置を表示</li>
      </ul>
      <p class="note">※ ISFシェーダー再生中はシークバーは非表示になります。</p>
    </section>

    <section id="keyboard">
      <h2>キーボードショートカット</h2>

      <table>
        <tr><th>キー</th><th>機能</th></tr>
        <tr><td>1 - 8</td><td>Channel A バンク選択</td></tr>
        <tr><td>Q W E R T Y U I</td><td>Channel B バンク選択</td></tr>
        <tr><td>A</td><td>クロスフェーダー左端 (A 100%)</td></tr>
        <tr><td>S</td><td>クロスフェーダー中央 (50/50)</td></tr>
        <tr><td>D</td><td>クロスフェーダー右端 (B 100%)</td></tr>
        <tr><td>← →</td><td>クロスフェーダー微調整 (±1%)</td></tr>
        <tr><td>< ></td><td>クロスフェーダー微調整 (±1%)</td></tr>
        <tr><td>Shift + ← →</td><td>クロスフェーダー調整 (±5%)</td></tr>
        <tr><td>Space</td><td>タップテンポ</td></tr>
        <tr><td>↑ ↓</td><td>BPM ±1</td></tr>
        <tr><td>Shift + ↑ ↓</td><td>BPM ±5</td></tr>
        <tr><td>P</td><td>BPM 再生/一時停止</td></tr>
        <tr><td>X</td><td>自動切替 ON/OFF</td></tr>
        <tr><td>[ ]</td><td>自動切替間隔変更</td></tr>
        <tr><td>F1</td><td>Invert ON/OFF</td></tr>
        <tr><td>F2</td><td>Grayscale ON/OFF</td></tr>
        <tr><td>F3</td><td>Sepia ON/OFF</td></tr>
        <tr><td>F4</td><td>Blur リセット</td></tr>
        <tr><td>F5</td><td>Brightness リセット</td></tr>
        <tr><td>F6</td><td>Contrast リセット</td></tr>
        <tr><td>F7</td><td>Glitch リセット</td></tr>
        <tr><td>F8</td><td>RGB Shift リセット</td></tr>
        <tr><td>F9</td><td>RGB Multiply リセット</td></tr>
        <tr><td>Tab</td><td>エフェクトパネル開閉</td></tr>
        <tr><td>O</td><td>Output Window を開く</td></tr>
        <tr><td>H</td><td>ヘルプ表示</td></tr>
        <tr><td>Ctrl+Shift+D</td><td>デバッグオーバーレイ</td></tr>
      </table>
    </section>

    <section id="bpm">
      <h2>BPM機能</h2>

      <h3>BPM設定方法</h3>
      <ul>
        <li><strong>手動入力</strong>: 数値フィールドに直接入力（40-200）</li>
        <li><strong>タップテンポ</strong>: TAPボタンまたはSpaceキーを曲に合わせて連打</li>
      </ul>

      <h3>ビートインジケーター</h3>
      <p>4つのドットが拍に合わせて点灯します。</p>

      <h3>自動切替</h3>
      <ol>
        <li>「Auto Switch」チェックボックスをON</li>
        <li>切替間隔を選択（1/2/4/8/16拍）</li>
        <li>ビートに合わせてA↔Bが自動で切り替わります</li>
      </ol>

      <h3>BPMフラッシュ</h3>
      <p>BPMに合わせて白いフラッシュを映像の上にオーバーレイ表示する機能です。</p>
      <ul>
        <li><strong>FLASH ボタン</strong>: クリックでフラッシュの ON/OFF を切り替え</li>
        <li><strong>パターン選択</strong>: 1/1（毎拍）/ 1/2 / 1/4（デフォルト）/ 1/8 から選択</li>
      </ul>
    </section>

    <section id="effects">
      <h2>エフェクト</h2>

      <h3>エフェクトパネル</h3>
      <p>画面右側にエフェクトサイドパネルがあります。</p>
      <ul>
        <li><strong>パネル開閉</strong>: ✕ ボタンで閉じる / 右端の「FX」ボタンで開く / Tab キーでトグル</li>
        <li><strong>エフェクト選択</strong>: リストからエフェクトをクリック → パラメータ表示</li>
        <li><strong>ON/OFF切替</strong>: エフェクトをダブルクリック、またはパラメータパネルのトグル</li>
        <li><strong>パラメータ調整</strong>: スライダーをドラッグ</li>
      </ul>
      <p class="note">パネルの開閉状態はブラウザに保存され、次回起動時に復元されます。</p>

      <h4>利用可能なエフェクト</h4>
      <table>
        <tr>
          <th>カテゴリ</th>
          <th>エフェクト</th>
          <th>ショートカット</th>
          <th>説明</th>
        </tr>
        <tr>
          <td rowspan="3">Color</td>
          <td>Invert</td>
          <td>F1</td>
          <td>色反転（ON/OFF）</td>
        </tr>
        <tr>
          <td>Grayscale</td>
          <td>F2</td>
          <td>グレースケール（0-100%）</td>
        </tr>
        <tr>
          <td>Sepia</td>
          <td>F3</td>
          <td>セピア調（0-100%）</td>
        </tr>
        <tr>
          <td rowspan="2">Adjust</td>
          <td>Brightness</td>
          <td>F5</td>
          <td>明度（-100〜100）</td>
        </tr>
        <tr>
          <td>Contrast</td>
          <td>F6</td>
          <td>コントラスト（-100〜100）</td>
        </tr>
        <tr>
          <td>Blur</td>
          <td>Blur</td>
          <td>F4</td>
          <td>ぼかし（0-100%）</td>
        </tr>
        <tr>
          <td rowspan="3">Glitch</td>
          <td>Glitch</td>
          <td>F7</td>
          <td>水平スライスずらし（0-100%）</td>
        </tr>
        <tr>
          <td>RGB Shift</td>
          <td>F8</td>
          <td>RGBチャンネルオフセット（0-100%）</td>
        </tr>
        <tr>
          <td>RGB Multiply</td>
          <td>F9</td>
          <td>単色乗算（0-100% + カラー選択）</td>
        </tr>
      </table>

      <h4>RGB Multiply カラー選択</h4>
      <p>カラーピッカーまたはプリセットボタン（R / G / B / C / M / Y）で色を選択できます。映像に色を載せてモノクロ風の演出に使えます。</p>
    </section>

    <section id="midi">
      <h2>MIDI対応</h2>

      <h3>接続方法</h3>
      <ol>
        <li>MIDIコントローラーをPCに接続</li>
        <li>VizMixを開く（または再読み込み）</li>
        <li>ヘッダーにデバイス名が表示されれば接続完了</li>
      </ol>
      <p class="note">※ MIDI機能はChrome/Edgeでのみ動作します。HTTPS接続が必要です。</p>

      <h3>MIDIラーン</h3>
      <p>任意のMIDIノブ/フェーダー/ボタンを、任意のUIパラメータに自由に割り当てできます。</p>
      <ol>
        <li>ヘッダーの「Learn」ボタンをクリック → ラーンモードに入る</li>
        <li>割り当てたいUI要素（スライダー、ボタン等）をクリック</li>
        <li>MIDIコントローラーのノブ/フェーダー/ボタンを操作</li>
        <li>マッピングが自動的に登録される</li>
        <li>「Learn」ボタンを再度クリックでラーンモード終了</li>
      </ol>
      <p>マッピングはブラウザに保存され、次回起動時に自動復元されます。「Clear」ボタンで全マッピングをクリアできます。</p>

      <h4>割り当て可能なパラメータ</h4>
      <ul>
        <li>クロスフェーダー</li>
        <li>ディマー A / B</li>
        <li>BPM</li>
        <li>バンク A / B 切替</li>
        <li>各エフェクトパラメータ</li>
        <li>自動切替、タップテンポ など</li>
      </ul>
    </section>

    <section id="trouble">
      <h2>トラブルシューティング</h2>

      <h3>映像が表示されない</h3>
      <ul>
        <li>動画形式を確認（MP4/H.264推奨）</li>
        <li>Chromeのハードウェアアクセラレーションが有効か確認</li>
        <li>ページを再読み込み（Ctrl+Shift+R）</li>
      </ul>

      <h3>MIDIが認識されない</h3>
      <ul>
        <li>Chrome/Edgeを使用しているか確認</li>
        <li>HTTPS接続（またはlocalhost）か確認</li>
        <li>MIDIデバイスを接続してからページを再読み込み</li>
      </ul>

      <h3>動作が重い</h3>
      <ul>
        <li>出力解像度を下げる（ヘッダーの解像度セレクタで540pに変更）</li>
        <li>他のタブやアプリを閉じる</li>
        <li>Glitch/RGB Shift エフェクトはCPU負荷が高め。使用しない時は0に戻す</li>
        <li>専用GPU（GTX 1060 / RX 580 以上）を推奨</li>
      </ul>
    </section>

    <section id="license">
      <h2>ライセンス</h2>

      <h3>VizMix</h3>
      <p>&copy; 2024-2026 VizMix. All rights reserved.</p>
      <ul>
        <li><strong>体験版</strong>: 個人利用無料</li>
        <li><strong>フル版</strong>: 有料販売予定</li>
      </ul>

      <h3>使用ライブラリ</h3>
      <p>VizMixは以下のオープンソースライブラリを使用しています：</p>
      <table>
        <tr><th>ライブラリ</th><th>ライセンス</th><th>用途</th></tr>
        <tr><td>PlayCanvas Engine</td><td>MIT</td><td>WebGLレンダリング</td></tr>
        <tr><td>Vite</td><td>MIT</td><td>ビルドツール</td></tr>
      </table>
      <p>詳細は <a href="../../LICENSE.txt">LICENSE.txt</a> をご覧ください。</p>

      <h3>出力映像の権利</h3>
      <p>VizMixを使用して作成・出力した映像の権利はユーザーに帰属します。商用利用を含め、自由にご使用ください。</p>

      <h3>免責事項</h3>
      <p>本ソフトウェアは「現状のまま」提供されます。使用に起因するいかなる損害についても、開発者は責任を負いません。</p>
    </section>
  </main>

  <footer>
    <p><a href="../../">&larr; VizMixに戻る</a></p>
    <p>VizMix v1.0.0 | <a href="../en/">English</a></p>
  </footer>
</body>
</html>
