<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <!-- Google Analytics (GA4) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GD2PHJX65F"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-GD2PHJX65F');
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VizMix マニュアル</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <header>
    <h1>VizMix マニュアル</h1>
    <p class="tagline">Browser-based VJ Software</p>
    <p class="version">Version 0.6.0</p>
    <nav>
      <a href="#about">VizMixとは</a>
      <a href="#install">インストール</a>
      <a href="#basic">基本操作</a>
      <a href="#keyboard">キーボード</a>
      <a href="#bpm">BPM機能</a>
      <a href="#effects">エフェクト</a>
      <a href="#midi">MIDI</a>
      <a href="#trouble">トラブルシューティング</a>
      <a href="#license">ライセンス</a>
    </nav>
  </header>

  <main>
    <section id="about">
      <h2>VizMixとは</h2>
      <p>VizMixはブラウザで動作するVJ（ビジュアルジョッキー）ソフトウェアです。</p>
      <ul>
        <li>インストール不要 - ブラウザだけで動作</li>
        <li>2チャンネルミキシング - A/Bチャンネルをクロスフェード</li>
        <li>16バンク - 各チャンネル8つの素材を切り替え</li>
        <li>BPM同期 - タップテンポや自動切替に対応</li>
        <li>MIDI対応 - ハードウェアコントローラーで操作</li>
        <li>GLSLシェーダー対応 - リアルタイムグラフィックス</li>
      </ul>
    </section>

    <section id="install">
      <h2>インストール</h2>

      <h3>Web版（推奨）</h3>
      <p>ブラウザでアクセスするだけで使用できます。インストール不要です。</p>
      <ol>
        <li>Chrome ブラウザを開く</li>
        <li>VizMixのURL（準備中）にアクセス</li>
        <li>すぐに使用開始</li>
      </ol>
      <p class="note">Web版はサーバーにアクセスするだけなので、追加ソフトのインストールは不要です。</p>

      <h3>ダウンロード版（オフライン/上級者向け）</h3>
      <p>ローカル環境で使用する場合は、簡易Webサーバーが必要です。</p>

      <h4>方法1: Python（簡単）</h4>
      <ol>
        <li>ZIPファイルをダウンロードして解凍</li>
        <li>コマンドプロンプト/ターミナルを開く</li>
        <li>解凍したフォルダに移動: <code>cd VizMix-v0.6.0</code></li>
        <li>サーバーを起動: <code>python -m http.server 8000</code></li>
        <li>ブラウザで <code>http://localhost:8000</code> にアクセス</li>
      </ol>

      <h4>方法2: Node.js</h4>
      <ol>
        <li>ZIPファイルをダウンロードして解凍</li>
        <li>コマンドプロンプト/ターミナルを開く</li>
        <li>解凍したフォルダに移動: <code>cd VizMix-v0.6.0</code></li>
        <li>サーバーを起動: <code>npx serve</code></li>
        <li>表示されたURLにアクセス</li>
      </ol>

      <h4>方法3: VS Code Live Server</h4>
      <ol>
        <li>VS Codeで解凍したフォルダを開く</li>
        <li>拡張機能「Live Server」をインストール</li>
        <li>index.html を右クリック → 「Open with Live Server」</li>
      </ol>

      <p class="note">※ ダウンロード版はindex.htmlをダブルクリックで直接開くことはできません。ブラウザのセキュリティ制限により、簡易サーバー経由でのアクセスが必要です。</p>
    </section>

    <section id="basic">
      <h2>基本操作</h2>

      <h3>画面構成</h3>
      <ul>
        <li><strong>Channel A（左）</strong> - 映像ソースA + 8つのバンクボタン</li>
        <li><strong>Master（中央）</strong> - クロスフェーダー、BPM設定</li>
        <li><strong>Channel B（右）</strong> - 映像ソースB + 8つのバンクボタン</li>
      </ul>

      <h3>映像の読み込み</h3>
      <ol>
        <li>動画ファイルをバンクボタンにドラッグ&ドロップ</li>
        <li>サムネールが表示され、映像が読み込まれます</li>
        <li>バンクボタンをクリックして映像を切り替え</li>
      </ol>
      <p class="note">対応形式: MP4 (H.264)、WebM (VP8/VP9)。MP4を推奨します。</p>

      <h3>シェーダーの読み込み</h3>
      <ol>
        <li>シェーダーファイル（.glsl / .frag / .fs）をバンクボタンにドラッグ&ドロップ</li>
        <li>ボタンが紫色になり、シェーダーが読み込まれます</li>
      </ol>

      <h3>クロスフェード</h3>
      <p>中央のスライダーでChannel AとChannel Bをミックスします。</p>
      <ul>
        <li>左端: Channel A 100%</li>
        <li>中央: 50% / 50%</li>
        <li>右端: Channel B 100%</li>
      </ul>

      <h3>Output Window</h3>
      <p>「Open Output」ボタンで出力用ウィンドウを開きます。プロジェクターやLEDに接続するモニターに移動してフルスクリーンにしてください。</p>
    </section>

    <section id="keyboard">
      <h2>キーボードショートカット</h2>

      <table>
        <tr><th>キー</th><th>機能</th></tr>
        <tr><td>1 - 8</td><td>Channel A バンク選択</td></tr>
        <tr><td>Q W E R T Y U I</td><td>Channel B バンク選択</td></tr>
        <tr><td>A</td><td>クロスフェーダー左端 (A 100%)</td></tr>
        <tr><td>S</td><td>クロスフェーダー中央 (50/50)</td></tr>
        <tr><td>D</td><td>クロスフェーダー右端 (B 100%)</td></tr>
        <tr><td>← →</td><td>クロスフェーダー微調整 (±1%)</td></tr>
        <tr><td>< ></td><td>クロスフェーダー微調整 (±1%)</td></tr>
        <tr><td>Shift + ← →</td><td>クロスフェーダー調整 (±5%)</td></tr>
        <tr><td>Space</td><td>タップテンポ</td></tr>
        <tr><td>↑ ↓</td><td>BPM ±1</td></tr>
        <tr><td>Shift + ↑ ↓</td><td>BPM ±5</td></tr>
        <tr><td>P</td><td>BPM 再生/一時停止</td></tr>
        <tr><td>X</td><td>自動切替 ON/OFF</td></tr>
        <tr><td>[ ]</td><td>自動切替間隔変更</td></tr>
        <tr><td>F1</td><td>Invert ON/OFF</td></tr>
        <tr><td>F2</td><td>Grayscale ON/OFF</td></tr>
        <tr><td>F3</td><td>Sepia ON/OFF</td></tr>
        <tr><td>F4</td><td>Blur リセット</td></tr>
        <tr><td>F5</td><td>Brightness リセット</td></tr>
        <tr><td>F6</td><td>Contrast リセット</td></tr>
        <tr><td>O</td><td>Output Window を開く</td></tr>
        <tr><td>H</td><td>ヘルプ表示</td></tr>
        <tr><td>Ctrl+Shift+D</td><td>デバッグオーバーレイ</td></tr>
      </table>
    </section>

    <section id="bpm">
      <h2>BPM機能</h2>

      <h3>BPM設定方法</h3>
      <ul>
        <li><strong>手動入力</strong>: 数値フィールドに直接入力（40-200）</li>
        <li><strong>タップテンポ</strong>: TAPボタンまたはSpaceキーを曲に合わせて連打</li>
      </ul>

      <h3>ビートインジケーター</h3>
      <p>4つのドットが拍に合わせて点灯します。</p>

      <h3>自動切替</h3>
      <ol>
        <li>「Auto Switch」チェックボックスをON</li>
        <li>切替間隔を選択（1/2/4/8/16拍）</li>
        <li>ビートに合わせてA↔Bが自動で切り替わります</li>
      </ol>
    </section>

    <section id="effects">
      <h2>エフェクト</h2>

      <h3>VIDEO EFFECTSパネル</h3>
      <p>バンクボタンの下にあるVIDEO EFFECTSパネルでエフェクトを操作します。</p>

      <h4>操作方法</h4>
      <ul>
        <li><strong>パネル開閉</strong>: ヘッダー「▼ VIDEO EFFECTS」をクリック</li>
        <li><strong>エフェクト選択</strong>: リストからエフェクトをクリック → パラメータ表示</li>
        <li><strong>ON/OFF切替</strong>: エフェクトをダブルクリック、またはパラメータパネルのトグル</li>
        <li><strong>パラメータ調整</strong>: スライダーをドラッグ</li>
      </ul>

      <h4>利用可能なエフェクト</h4>
      <table>
        <tr>
          <th>カテゴリ</th>
          <th>エフェクト</th>
          <th>ショートカット</th>
          <th>説明</th>
        </tr>
        <tr>
          <td rowspan="3">Color</td>
          <td>Invert</td>
          <td>F1</td>
          <td>色反転（ON/OFF）</td>
        </tr>
        <tr>
          <td>Grayscale</td>
          <td>F2</td>
          <td>グレースケール（0-100%）</td>
        </tr>
        <tr>
          <td>Sepia</td>
          <td>F3</td>
          <td>セピア調（0-100%）</td>
        </tr>
        <tr>
          <td rowspan="2">Adjust</td>
          <td>Brightness</td>
          <td>F5</td>
          <td>明度（-100〜100）</td>
        </tr>
        <tr>
          <td>Contrast</td>
          <td>F6</td>
          <td>コントラスト（-100〜100）</td>
        </tr>
        <tr>
          <td>Blur</td>
          <td>Blur</td>
          <td>F4</td>
          <td>ぼかし（0-100%）</td>
        </tr>
      </table>

      <h4>キーボードショートカット</h4>
      <ul>
        <li><kbd>F1</kbd>: Invert ON/OFF</li>
        <li><kbd>F2</kbd>: Grayscale ON/OFF</li>
        <li><kbd>F3</kbd>: Sepia ON/OFF</li>
        <li><kbd>F4</kbd>: Blur リセット</li>
        <li><kbd>F5</kbd>: Brightness リセット</li>
        <li><kbd>F6</kbd>: Contrast リセット</li>
      </ul>
    </section>

    <section id="midi">
      <h2>MIDI対応</h2>

      <h3>接続方法</h3>
      <ol>
        <li>MIDIコントローラーをPCに接続</li>
        <li>VizMixを開く（または再読み込み）</li>
        <li>右上にデバイス名が表示されれば接続完了</li>
      </ol>
      <p class="note">※ MIDI機能はChrome/Edgeでのみ動作します。HTTPS接続が必要です。</p>

      <h3>MIDIアサイン</h3>
      <table>
        <tr><th>MIDI</th><th>機能</th></tr>
        <tr><td>Note 0-7</td><td>Channel A バンク 1-8</td></tr>
        <tr><td>Note 8-15</td><td>Channel B バンク 1-8</td></tr>
        <tr><td>Note 16</td><td>自動切替 ON/OFF</td></tr>
        <tr><td>Note 17</td><td>タップテンポ</td></tr>
        <tr><td>CC 1</td><td>クロスフェーダー (0-127 → 0-100%)</td></tr>
        <tr><td>CC 2</td><td>BPM (0-127 → 40-200)</td></tr>
      </table>

      <h3>仮想MIDIでのテスト</h3>
      <p>MIDIコントローラーがない場合、loopMIDI（Windows）などの仮想MIDIソフトでテストできます。</p>
    </section>

    <section id="trouble">
      <h2>トラブルシューティング</h2>

      <h3>映像が表示されない</h3>
      <ul>
        <li>動画形式を確認（MP4/H.264推奨）</li>
        <li>Chromeのハードウェアアクセラレーションを無効にしてみる</li>
        <li>ページを再読み込み（Ctrl+Shift+R）</li>
      </ul>

      <h3>MIDIが認識されない</h3>
      <ul>
        <li>Chrome/Edgeを使用しているか確認</li>
        <li>HTTPS接続（またはlocalhost）か確認</li>
        <li>MIDIデバイスを接続してからページを再読み込み</li>
      </ul>

      <h3>動作が重い</h3>
      <ul>
        <li>動画解像度を下げる（1080p推奨）</li>
        <li>他のタブやアプリを閉じる</li>
        <li>シェーダーの複雑さを減らす</li>
      </ul>
    </section>

    <section id="license">
      <h2>ライセンス</h2>

      <h3>VizMix</h3>
      <p>© 2024 VizMix. All rights reserved.</p>
      <ul>
        <li><strong>体験版</strong>: 個人利用無料</li>
        <li><strong>フル版</strong>: 有料販売予定</li>
      </ul>

      <h3>使用ライブラリ</h3>
      <p>VizMixは以下のオープンソースライブラリを使用しています：</p>
      <table>
        <tr><th>ライブラリ</th><th>ライセンス</th><th>用途</th></tr>
        <tr><td>PlayCanvas Engine</td><td>MIT</td><td>WebGLレンダリング</td></tr>
        <tr><td>Vite</td><td>MIT</td><td>ビルドツール</td></tr>
      </table>
      <p>詳細は <a href="../../LICENSE.txt">LICENSE.txt</a> をご覧ください。</p>

      <h3>サンプル素材</h3>
      <ul>
        <li>個人・商用利用可能</li>
        <li>再配布・転売は禁止</li>
        <li>VizMixで作成した映像作品には自由に使用可能</li>
      </ul>

      <h3>出力映像の権利</h3>
      <p>VizMixを使用して作成・出力した映像の権利はユーザーに帰属します。商用利用を含め、自由にご使用ください。</p>

      <h3>免責事項</h3>
      <p>本ソフトウェアは「現状のまま」提供されます。使用に起因するいかなる損害についても、開発者は責任を負いません。</p>
    </section>
  </main>

  <footer>
    <p><a href="../../">← VizMixに戻る</a></p>
    <p>VizMix v0.6.0 | <a href="../en/">English</a></p>
  </footer>
</body>
</html>
